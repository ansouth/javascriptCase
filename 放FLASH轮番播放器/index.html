<!DOCTYPE html>
<html lang="en">
<head>
<title>仿FLASH的图片轮换效果</title>
<link rel="stylesheet" type="text/css" href="index.css">
<script type="text/javascript" src="move.js"></script>
    <script>
       window.onload=function () {
           var oBtnPrev=document.getElementsByClassName('prev')[0];
           var oBtnNext=document.getElementsByClassName('next')[0];
           var oMarkLeft=document.getElementsByClassName('mark_left')[0];
           var oMarkRight=document.getElementsByClassName('mark_right')[0];

           var oDivSmall = document.getElementsByClassName('small_pic')[0];
           var aLiSmall = oDivSmall.getElementsByTagName('li');

           var oUlBig = document.getElementsByClassName('big_pic')[0];
           var aLiBig = oUlBig.getElementsByTagName('li');
           var z_index=2;

           //左右按钮
           oMarkLeft.onmouseover = function () {
               startMove( oBtnPrev,'opacity',100);
           };
           oMarkLeft.onmouseout = function () {
               startMove( oBtnPrev,'opacity',0);
           };
           oMarkRight.onmouseover = function () {
               startMove( oBtnNext,'opacity',100);
           };
           oMarkRight.onmouseout = function () {
               startMove( oBtnNext,'opacity',0);
           };
           //大图切换
           // alert('123');
           for (var k=0;k<aLiSmall.length;k++){
               aLiSmall[k].index=k;
               aLiSmall[k].onclick=function () {
                   // if(this.index==now)return;
                   // now=this.index;
                   aLiBig[this.index].style.zIndex=z_index++;
                  /* //让当前的aLiSmall下的图片透明度为100%
                   for(var k=0;k<aLiSmall.length;k++){
                       // startMove(aLiSmall[k],'opacity',0.6);
                       aLiSmall[this.index].style.opacity=60;
                   }
                   aLiSmall[this.index].style.opacity=100;     */
                   aLiBig[this.index].style.height = 0;
                   startMove(aLiBig[this.index],'height',320);
                   };

               aLiSmall[k].onmouseover=function () {
                   aLiSmall[this.index].style.opacity=1;
               };
               aLiSmall[k].onmouseout=function () {
                   if(this.index !=0.6){//这里需优化
                       aLiSmall[this.index].style.opacity=0.6;
                   }
               };
            }
            oBtnPrev.onclick=function () {
                oDivSmall[this.index]++;
            };
       };
    </script>
</head>

<body>
<div id="playimages" class="play">
    <ul class="big_pic">

		<div class="text">加载图片说明……</div>
		<div class="length">计算图片数量……</div>
		
		<a class="mark_left" href="javascript:;">
            <div class="prev"></div>
        </a>
		<a class="mark_right" href="javascript:;">
            <div class="next"></div>
        </a>
		<div class="bg"></div>
		
        <li style="z-index:1;"><img src="images/1.jpg" /></li>
        <li><img src="images/2.jpg" /></li>
        <li><img src="images/3.jpg" /></li>
        <li><img src="images/4.jpg" /></li>
        <li><img src="images/5.jpg" /></li>
        <li><img src="images/6.jpg" /></li>
    </ul>
    <div class="small_pic">
        <ul style="width:390px;">
            <li style="filter: 100; opacity: 1;"><img src="images/1.jpg" /></li>
            <li><img src="images/2.jpg" /></li>
            <li><img src="images/3.jpg" /></li>
            <li><img src="images/4.jpg" /></li>
            <li><img src="images/5.jpg" /></li>
            <li><img src="images/6.jpg" /></li>
        </ul>
    </div>
</div>
</body>
</html>
